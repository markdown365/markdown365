webpackJsonp([1],{"+2mN":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n("bOdI"),o=i(l),u=n("Gu7T"),r=i(u),d=n("Dd8w"),f=i(d),c=n("sTbe"),s=n("KgVm"),v=i(s),p=n("kIHq"),m={files:[],active:{}};t.default=(0,c.handleActions)((a={},(0,o.default)(a,p.OPEN_FILE,function(e,t){var n=t.payload,i=[];return n.forEach(function(t){-1===(0,v.default)(e.files,{filename:t.filename})&&i.push(t)}),(0,f.default)({},e,{files:[].concat((0,r.default)(e.files),i)})}),(0,o.default)(a,p.REMOVE_FILE,function(e,t){var n=t.payload,i=(0,v.default)(e.files,{filename:n.filename});return-1!==i&&e.files.splice(i,1),e.active.filename===n.filename&&(e.active={}),e}),(0,o.default)(a,p.EDIT_FILE,function(e,t){var n=t.payload;return(0,f.default)({},e,{active:n.file})}),a),m)},"/jck":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n("U7vG"),l=i(a),o=n("O27J"),u=i(o),r=n("RH2O"),d=n("IcnI"),f=i(d),c=n("y8U+"),s=i(c);u.default.render(l.default.createElement(r.Provider,{store:f.default},l.default.createElement(s.default,null)),document.querySelector("#app"))},"1v4d":function(e,t){e.exports=require("path")},"4/hK":function(e,t){},"7N6K":function(e,t){},"9xLI":function(e,t){},AmPm:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("G4Vi"),E=n("BCOr"),g=n("G/5Y"),x=i(g),O=function(e){return{files:e.files.files,active:e.files.active}},b=function(e){return{editFile:function(t){return e(E.files.editFile(t))},removeFile:function(t){return e(E.files.removeFile(t))},editorOnChange:function(t){return e(E.editor.editorOnChange(t))}}},y=(a=(0,_.connect)(O,b))(l=function(e){function t(){var e,n,i,a;(0,d.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=i=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.onOpenFile=function(){h.ipcRenderer.send("open-file")},i.onSelect=function(e){e.filename!==i.props.active.filename&&i.props.editFile(e)},i.onRemove=function(e){i.props.removeFile(e),e.filename===i.props.active.filename&&i.props.editorOnChange("")},a=n,(0,v.default)(i,a)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.files,n=e.active;return w.default.createElement(x.default,{files:t,active:n,onOpenFile:this.onOpenFile,onSelect:this.onSelect,onRemove:this.onRemove})}}]),t}(M.Component))||l;t.default=y},BCOr:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.editor=t.files=t.ui=void 0;var a=n("tzjR"),l=i(a),o=n("kIHq"),u=i(o),r=n("QYzy"),d=i(r);t.ui=l.default,t.files=u.default,t.editor=d.default},ChGC:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("2KeS"),l=n("F/tN"),o=i(l),u=n("+2mN"),r=i(u),d=n("g726"),f=i(d);t.default=(0,a.combineReducers)({ui:o.default,files:r.default,editor:f.default})},Dxb4:function(e,t){},"F/tN":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n("bOdI"),o=i(l),u=n("Dd8w"),r=i(u),d=n("sTbe"),f=n("tzjR"),c={windowIsMaximize:!1,sideBarExpanding:!1,viewMode:"previewMode"};t.default=(0,d.handleActions)((a={},(0,o.default)(a,f.WINDOW_MAXIMIZE,function(e,t){var n=t.payload;return(0,r.default)({},e,{windowIsMaximize:n})}),(0,o.default)(a,f.SIDEBAR_TOGGLE,function(e,t){var n=t.payload;return(0,r.default)({},e,{sideBarExpanding:n})}),(0,o.default)(a,f.SET_VIEW_MODE,function(e,t){var n=t.payload;return(0,r.default)({},e,{viewMode:n})}),a),c)},"G/5Y":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Zx67"),l=i(a),o=n("Zrlr"),u=i(o),r=n("wxAW"),d=i(r),f=n("zwoO"),c=i(f),s=n("Pf15"),v=i(s),p=n("U7vG"),m=i(p),M=n("HW6M"),w=i(M);n("QfSk");var _=function(e){function t(){var e,n,i,a;(0,u.default)(this,t);for(var o=arguments.length,r=Array(o),d=0;d<o;d++)r[d]=arguments[d];return n=i=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),i.state={contextMenuFile:null,contextMenuX:0,contextMenuY:0},i.onOpenFile=function(){i.props.onOpenFile()},i.onSelect=function(e){e.filename!==i.props.active.filename&&i.props.onSelect(e)},i.onContextMenu=function(e,t){var n=i.refs.el.getBoundingClientRect(),a=n.top,l=n.left,o=n.right;console.log(i.refs.el.getBoundingClientRect());var u=e.clientX-l,r=e.clientY-a;i.setState({contextMenuFile:t,contextMenuX:u,contextMenuY:r},function(){var e=i.refs.contextMenu.getBoundingClientRect();e.right>o&&(u-=e.width);var t=i.refs.el.parentElement.getBoundingClientRect(),n=t.bottom;e.bottom>n&&(r-=e.height),i.setState({contextMenuX:u,contextMenuY:r})})},i.onOpenContextMenuFile=function(){var e=i.state.contextMenuFile;e&&i.onSelect(e),i.setState({contextMenuFile:null,contextMenuX:0,contextMenuY:0})},i.onRemoveContextMenuFile=function(){var e=i.state.contextMenuFile;e&&i.props.onRemove(e),i.setState({contextMenuFile:null,contextMenuX:0,contextMenuY:0})},i.onClickOut=function(e){i.refs.contextMenu&&!i.refs.contextMenu.contains(e.target)&&i.setState({contextMenuFile:null,contextMenuX:0,contextMenuY:0})},a=n,(0,c.default)(i,a)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onClickOut)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onClickOut)}},{key:"render",value:function(){var e=this,t=this.state,n=t.contextMenuFile,i=t.contextMenuX,a=t.contextMenuY,l=this.props,o=l.files,u=l.active,r=m.default.createElement("div",{className:"files-open-file"},m.default.createElement("div",{className:"files-open-file-title"},"没有打开的文件"),m.default.createElement("button",{className:"files-open-file-button",onClick:this.onOpenFile},"打开文件")),d=o.map(function(t,n){var i=(0,w.default)("files-list-item",{"files-list-item-active":t.filename===u.filename});return m.default.createElement("li",{className:i,key:n,title:t.filename,onClick:function(){return e.onSelect(t)},onContextMenu:function(n){return e.onContextMenu(n,t)}},m.default.createElement("div",{className:"files-list-item-filename"},t.basename))}),f=m.default.createElement("ul",{ref:"contextMenu",className:"files-context-menu",style:{top:a,left:i}},m.default.createElement("li",{onClick:this.onOpenContextMenuFile},"打开"),m.default.createElement("li",{onClick:this.onRemoveContextMenuFile},"移除"));return m.default.createElement("div",{ref:"el",className:"files"},!o.length&&r,m.default.createElement("ul",{className:"files-list"},d),n&&f)}}]),t}(p.Component);t.default=_},G4Vi:function(e,t){e.exports=require("electron")},GTkZ:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("U7vG"),l=i(a),o=n("HW6M"),u=i(o),r=n("AmPm"),d=i(r),f=n("fpoL");n("7N6K"),t.default=function(e){var t=(0,u.default)("side-bar-panel",{"side-bar-panel-expanding":e.sideBarExpanding});return l.default.createElement("div",{className:"side-bar"},l.default.createElement("div",{className:"side-bar-container"},l.default.createElement("div",{className:"side-bar-container-toggle"},l.default.createElement("button",{className:"side-bar-button",onClick:e.onSidebarToggle,title:f.lang.sidebarToggle},l.default.createElement("i",{className:"icons-menu"}))),l.default.createElement("div",{className:"side-bar-container-open-file"},l.default.createElement("button",{className:"side-bar-button",onClick:e.onOpenFile,title:f.lang.openFile},l.default.createElement("i",{className:"icons-open-file"}))),l.default.createElement("div",{className:"side-bar-container-settings"},l.default.createElement("button",{className:"side-bar-button",title:f.lang.settings},l.default.createElement("i",{className:"icons-settings"})))),l.default.createElement("div",{className:t},l.default.createElement(d.default,null)))}},HdN8:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("BCOr"),E=n("qEAH"),g=i(E),x=function(e){return{value:e.editor.value,viewMode:e.ui.viewMode}},O=function(e){return{editorOnChange:function(t){return e(h.editor.editorOnChange(t))}}},b=(a=(0,_.connect)(x,O))(l=function(e){function t(){var e,n,i,a;(0,d.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=i=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.onChange=function(e){i.props.editorOnChange(e)},a=n,(0,v.default)(i,a)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.viewMode;return w.default.createElement(g.default,{value:t,viewMode:n,onChange:this.onChange})}}]),t}(M.Component))||l;t.default=b},IcnI:function(e,t,n){"use strict";e.exports=n("K8UX")},K8UX:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("2KeS"),l=n("po9w"),o=i(l),u=n("ChGC"),r=i(u);t.default=(0,a.createStore)(r.default,(0,a.applyMiddleware)(o.default))},N20r:function(e,t){},NyPT:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("U7vG"),l=i(a),o=n("HW6M"),u=i(o),r=n("h1gF"),d=i(r),f=n("Wewj"),c=i(f),s=n("HdN8"),v=i(s),p=n("WPgo"),m=i(p),M=n("jSnU"),w=i(M);n("Rpho"),t.default=function(e){var t="readMode"!==e.viewMode&&l.default.createElement(v.default,null),n="writeMode"!==e.viewMode&&l.default.createElement(m.default,null),i=(0,u.default)("app-container-viewer",{"app-container-viewer-side-bar-expanding":e.sideBarExpanding});return l.default.createElement("div",null,l.default.createElement(d.default,null),l.default.createElement("div",{className:"app-container"},l.default.createElement(c.default,null),l.default.createElement("div",{className:i},t,n)),l.default.createElement(w.default,null))}},OUfZ:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Zx67"),l=i(a),o=n("Zrlr"),u=i(o),r=n("wxAW"),d=i(r),f=n("zwoO"),c=i(f),s=n("Pf15"),v=i(s),p=n("U7vG"),m=i(p),M=n("HW6M"),w=i(M),_=n("QjPZ"),h=i(_),E=n("G4Vi");n("jG57");var g=function(e){function t(){var e,n,i,a;(0,u.default)(this,t);for(var o=arguments.length,r=Array(o),d=0;d<o;d++)r[d]=arguments[d];return n=i=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),i.viewer=null,i.value="",i.onClick=function(e){for(var t=e.target;t&&i.refs.viewer.contains(t);){if("A"===t.tagName.toUpperCase()&&t.href){e.preventDefault(),E.shell.openExternal(t.href);break}t=t.parentElement}},a=n,(0,c.default)(i,a)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.viewer=new h.default({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:null,xhtml:!1,$el:this.refs.viewer}),this.value=e,this.viewer.parse(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.value;this.value!==e&&(this.value=e,this.viewer.parse(e))}},{key:"render",value:function(){var e=this.props.viewMode,t=(0,w.default)("viewer",{"viewer-mode-read":"readMode"===e});return m.default.createElement("div",{className:t,onClick:this.onClick},m.default.createElement("div",{ref:"viewer"}))}}]),t}(p.Component);t.default=g},QYzy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDITOR_ON_CHANGE=void 0;var i=n("bOdI"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n("sTbe"),o=t.EDITOR_ON_CHANGE="EDITOR_ON_CHANGE";t.default=(0,l.createActions)((0,a.default)({},o,function(e){return e}))},QfSk:function(e,t){},Rpho:function(e,t){},SKCA:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("U7vG"),l=i(a),o=n("HW6M"),u=i(o),r=n("fpoL");n("vGNs"),t.default=function(e){var t=(0,u.default)({"icons-window-restore":e.windowIsMaximize,"icons-window-maximize":!e.windowIsMaximize});return l.default.createElement("div",{className:"title-bar"},l.default.createElement("div",{className:"title-bar-title",title:e.title},e.title),l.default.createElement("div",{className:"title-bar-window"},l.default.createElement("button",{className:"title-bar-button",onClick:e.onWindowMinimize,title:r.lang.windowMinimize},l.default.createElement("i",{className:"icons-window-minimize"})),l.default.createElement("button",{className:"title-bar-button",onClick:e.onWindowMaximizeToggle,title:r.lang.windowMaximizeToggle},l.default.createElement("i",{className:t})),l.default.createElement("button",{className:"title-bar-button",onClick:e.onWindowClose,title:r.lang.windowClose},l.default.createElement("i",{className:"icons-window-close"}))))}},WPgo:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("OUfZ"),E=i(h),g=function(e){return{value:e.editor.value,viewMode:e.ui.viewMode}},x=(a=(0,_.connect)(g))(l=function(e){function t(){return(0,d.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.viewMode;return w.default.createElement(E.default,{value:t,viewMode:n})}}]),t}(M.Component))||l;t.default=x},Wewj:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("1v4d"),w=i(M),_=n("U7vG"),h=i(_),E=n("RH2O"),g=n("G4Vi"),x=n("BCOr"),O=n("GTkZ"),b=i(O),y=function(e){return{sideBarExpanding:e.ui.sideBarExpanding}},C=function(e){return{sidebarToggle:function(t){return e(x.ui.sidebarToggle(t))},openFile:function(t){return e(x.files.openFile(t))},editFile:function(t){return e(x.files.editFile(t))}}},N=(a=(0,E.connect)(y,C))(l=function(e){function t(){var e,n,i,a;(0,d.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=i=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.onSidebarToggle=function(){i.props.sidebarToggle(!i.props.sideBarExpanding)},i.onOpenFile=function(){g.ipcRenderer.send("open-file")},i.openFile=function(e,t){if(t){t=t.map(function(e){return{filename:e,basename:w.default.basename(e)}}),i.props.openFile(t);var n=t[t.length-1];n&&i.props.editFile(n)}},a=n,(0,v.default)(i,a)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){g.ipcRenderer.addListener("open-file",this.openFile)}},{key:"componentWillUnmount",value:function(){g.ipcRenderer.removeListener("open-file",this.openFile)}},{key:"render",value:function(){var e=this.props.sideBarExpanding;return h.default.createElement(b.default,{sideBarExpanding:e,onSidebarToggle:this.onSidebarToggle,onOpenFile:this.onOpenFile})}}]),t}(_.Component))||l;t.default=N},aDMf:function(e,t,n){"use strict";n("uMhA"),n("njuX"),n("N20r"),e.exports=n("/jck")},fpoL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;var i=n("qJRp"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.lang=a.default},g726:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n("bOdI"),o=i(l),u=n("Dd8w"),r=i(u),d=n("sTbe"),f=n("QYzy"),c=n("kIHq"),s={value:""};t.default=(0,d.handleActions)((a={},(0,o.default)(a,f.EDITOR_ON_CHANGE,function(e,t){var n=t.payload;return(0,r.default)({},e,{value:n})}),(0,o.default)(a,c.EDIT_FILE,function(e,t){var n=t.payload;return(0,r.default)({},e,{value:n.value})}),a),s)},gSgD:function(e,t){},h1gF:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("G4Vi"),E=n("BCOr"),g=n("SKCA"),x=i(g),O=function(e){return{windowIsMaximize:e.ui.windowIsMaximize,active:e.files.active}},b=function(e){return{windowMaximize:function(t){return e(E.ui.windowMaximize(t))}}},y=(a=(0,_.connect)(O,b))(l=function(e){function t(){var e,n,i,a;(0,d.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=i=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.toggleMaximize=function(e,t){i.props.windowMaximize(t)},i.onWindowClose=function(){h.ipcRenderer.send("window-close")},i.onWindowMaximizeToggle=function(){h.ipcRenderer.send("window-maximize",!i.props.windowIsMaximize)},i.onWindowMinimize=function(){h.ipcRenderer.send("window-minimize")},a=n,(0,v.default)(i,a)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){h.ipcRenderer.addListener("window-maximize-change",this.toggleMaximize)}},{key:"componentWillUnmount",value:function(){h.ipcRenderer.removeListener("window-maximize-change",this.toggleMaximize)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.windowIsMaximize,i=t.basename||"Markdown365";return w.default.createElement(x.default,{title:i,windowIsMaximize:n,onWindowClose:this.onWindowClose,onWindowMaximizeToggle:this.onWindowMaximizeToggle,onWindowMinimize:this.onWindowMinimize})}}]),t}(M.Component))||l;t.default=y},jG57:function(e,t){},jSnU:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("BCOr"),E=n("ybqu"),g=i(E),x=function(e){return{viewMode:e.ui.viewMode}},O=function(e){return{setViewMode:function(t){return e(h.ui.setViewMode(t))}}},b=(a=(0,_.connect)(x,O))(l=function(e){function t(){var e,n,i,a;(0,d.default)(this,t);for(var l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];return n=i=(0,v.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.onSelectViewMode=function(e){e!==i.props.viewMode&&i.props.setViewMode(e)},a=n,(0,v.default)(i,a)}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.viewMode;return w.default.createElement(g.default,{viewMode:e,onSelectViewMode:this.onSelectViewMode})}}]),t}(M.Component))||l;t.default=b},kIHq:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EDIT_FILE=t.REMOVE_FILE=t.OPEN_FILE=void 0;var a,l=n("bOdI"),o=i(l),u=n("Xxa5"),r=i(u),d=n("//Fk"),f=i(d),c=n("exGp"),s=i(c),v=n("sTbe"),p=n("1v4d"),m=i(p),M=n("vHs2"),w=i(M),_=t.OPEN_FILE="OPEN_FILE",h=t.REMOVE_FILE="REMOVE_FILE",E=t.EDIT_FILE="EDIT_FILE";t.default=(0,v.createActions)((a={},(0,o.default)(a,_,function(e){return e}),(0,o.default)(a,h,function(e){return e}),(0,o.default)(a,E,function(){var e=(0,s.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.default.normalize(t.filename),e.next=3,new f.default(function(e,i){w.default.stat(n,function(a,l){if(a)return i(a);w.default.readFile(n,function(n,a){if(n)return i(n);e({file:t,value:a.toString()})})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),a))},lVK7:function(e,t,n){"use strict";n("aDMf")},njuX:function(e,t){},owVd:function(e,t){},qEAH:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Zx67"),l=i(a),o=n("Zrlr"),u=i(o),r=n("wxAW"),d=i(r),f=n("zwoO"),c=i(f),s=n("Pf15"),v=i(s),p=n("U7vG"),m=i(p),M=n("8U58"),w=i(M),_=n("HW6M"),h=i(_);n("f6fj"),n("hKnC"),n("afnM"),n("7Xsf"),n("4/hK"),n("gSgD"),n("9xLI"),n("owVd");var E=function(e){function t(){var e,n,i,a;(0,u.default)(this,t);for(var o=arguments.length,r=Array(o),d=0;d<o;d++)r[d]=arguments[d];return n=i=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),i.editor=null,a=n,(0,c.default)(i,a)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.value;this.editor=(0,w.default)(this.refs.editor,{value:t,mode:"text/x-markdown",theme:"xq-light",indentUnit:2,smartIndent:!0,tabSize:4,indentWithTabs:!0,keyMap:"sublime",lineWrapping:!0,scrollbarStyle:"overlay",inputStyle:"contenteditable",showCursorWhenSelecting:!0,placeholder:"输入markdown",lineWiseCopyCut:!0,autofocus:!0,resetSelectionOnContextMenu:!0}),this.editor.on("change",function(){e.props.onChange(e.editor.getValue())})}},{key:"componentDidUpdate",value:function(){var e=this.props.value;this.editor.getValue()!==e&&this.editor.setValue(e)}},{key:"render",value:function(){var e=this.props.viewMode,t=(0,h.default)("editor",{"editor-mode-write":"writeMode"===e});return m.default.createElement("div",{className:t},m.default.createElement("div",{ref:"editor",className:"editor-container"}))}}]),t}(p.Component);t.default=E},qJRp:function(e,t){e.exports={windowClose:"关闭",windowMaximizeToggle:"最大化/还原",windowMinimize:"最小化",sidebarToggle:"展开/关闭",openFile:"打开文件",settings:"设置",viewMode:"模式设置",writeMode:"写作模式",readMode:"阅读模式",previewMode:"预览模式"}},tzjR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_VIEW_MODE=t.SIDEBAR_TOGGLE=t.WINDOW_MAXIMIZE=void 0;var i,a=n("bOdI"),l=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n("sTbe"),u=t.WINDOW_MAXIMIZE="WINDOW_MAXIMIZE",r=t.SIDEBAR_TOGGLE="SIDEBAR_TOGGLE",d=t.SET_VIEW_MODE="SET_VIEW_MODE";t.default=(0,o.createActions)((i={},(0,l.default)(i,u,function(e){return e}),(0,l.default)(i,r,function(e){return e}),(0,l.default)(i,d,function(e){return e}),i))},uMhA:function(e,t){},vGNs:function(e,t){},vHs2:function(e,t){e.exports=require("fs")},"y8U+":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=n("Zx67"),u=i(o),r=n("Zrlr"),d=i(r),f=n("wxAW"),c=i(f),s=n("zwoO"),v=i(s),p=n("Pf15"),m=i(p),M=n("U7vG"),w=i(M),_=n("RH2O"),h=n("G4Vi"),E=n("NyPT"),g=i(E),x=function(e){return{sideBarExpanding:e.ui.sideBarExpanding,viewMode:e.ui.viewMode}},O=(a=(0,_.connect)(x))(l=function(e){function t(){return(0,d.default)(this,t),(0,v.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){h.ipcRenderer.send("app-mounted")}},{key:"render",value:function(){var e=this.props,t=e.sideBarExpanding,n=e.viewMode;return w.default.createElement(g.default,{sideBarExpanding:t,viewMode:n})}}]),t}(M.Component))||l;t.default=O},ybqu:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Zx67"),l=i(a),o=n("Zrlr"),u=i(o),r=n("wxAW"),d=i(r),f=n("zwoO"),c=i(f),s=n("Pf15"),v=i(s),p=n("U7vG"),m=i(p),M=n("fpoL");n("Dxb4");var w=function(e){function t(){var e,n,i,a;(0,u.default)(this,t);for(var o=arguments.length,r=Array(o),d=0;d<o;d++)r[d]=arguments[d];return n=i=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(r))),i.state={viewModesPanelStatus:!1},i.viewModes=["writeMode","readMode","previewMode"],i.onToggleViewModesPanel=function(){i.setState({viewModesPanelStatus:!i.state.viewModesPanelStatus})},i.onSelectViewMode=function(e){e!==i.props.viewMode&&i.props.onSelectViewMode(e),i.setState({viewModesPanelStatus:!1})},i.onClickOut=function(e){i.refs.view.contains(e.target)||i.setState({viewModesPanelStatus:!1})},a=n,(0,c.default)(i,a)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onClickOut)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onClickOut)}},{key:"render",value:function(){var e=this,t=this.state.viewModesPanelStatus,n=this.props.viewMode,i=this.viewModes.map(function(t){var i=t===n&&m.default.createElement("i",{className:"icons-check"});return m.default.createElement("li",{key:t,onClick:function(){return e.onSelectViewMode(t)}},i,m.default.createElement("span",null,M.lang[t]))});return m.default.createElement("div",{className:"status-bar"},m.default.createElement("div",{ref:"view",className:"status-bar-view"},m.default.createElement("button",{className:"status-bar-button",onClick:this.onToggleViewModesPanel,title:M.lang.viewMode},m.default.createElement("i",{className:"icons-visibility"})),m.default.createElement("ul",{className:"status-bar-view-modes-panel"},t&&i)))}}]),t}(p.Component);t.default=w}},["lVK7"]);